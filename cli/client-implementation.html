<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>GENIVI SOTA Project : RVI Client Implementation Reference</title>
        <meta name="description" content="Software Updates Over the Air">

        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="/favicon/manifest.json">
        <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg">
        <link rel="shortcut icon" href="/favicon/favicon.ico">
        <meta name="msapplication-config" content="/favicon/browserconfig.xml">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css"> 
        <link rel="stylesheet" href="/rvi_sota_server/css/main.css">
        <link rel='stylesheet' href='//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css'>
    </head>
    <body>
        
      <nav class="top-bar navbar navbar-default navbar-fixed-top text-spacing-md" id="header-navbar">
        <div class="top-bar container-fluid header-wrapper">
          <div class="top-bar navbar-header">
            <button class="navbar-toggle collapsed menu-selector-btn header-collapse-trigger" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-expanded="false" aria-controls="navbar-menu">
              <span class="sr-only">toggle</span>
              <span class="icon-bar top-bar"></span>
              <span class="icon-bar middle-bar"></span>
              <span class="icon-bar bottom-bar"></span>
            </button>
            <a class="top-bar navbar-brand" href="/rvi_sota_server/index.html"><img class="top-bar unfolded-header" src="/rvi_sota_server/images/icon-logo.png" alt="rvi_sota_server"></a>

          </div>
          <ul class="top-bar nav navbar-nav navbar-right visible-md visible-lg visible-sm">
            <li class="top-bar visible-sm visible-md visible-lg">
              <a class="top-bar ats-garage-btn" href="https://advancedtelematic.com/" target="_blank">Developed by ATS
              </a>
            </li>
          </ul>
          <div class="top-bar navbar-collapse collapse header-collapse-nav" id="navbar-menu">
            <div class="top-bar container center-nav-container">
              <div class="btn-container visible-xs">
                <a class="ico-arrow-top-right btn-small text-center uppercase" href="https://app.atsgarage.com/login" target="_blank">Start Now</a>
              </div>
              <div class="btn-container visible-xs">
                <a class="inverted btn-small text-center uppercase" href="https://app.atsgarage.com/login" target="_blank">Login</a>
              </div>
              <ul class="top-bar nav nav-list navbar-nav">
	            
	                <li class="top-bar "><a href="https://github.com/genivi/rvi_sota_server">Server src (stable)</a></li>
	            
	                <li class="top-bar "><a href="https://github.com/advancedtelematic/rvi_sota_server">Server src (dev)</a></li>
	            
	                <li class="top-bar "><a href="https://github.com/genivi/rvi_sota_client">Client src (stable)</a></li>
	            
	                <li class="top-bar "><a href="https://github.com/advancedtelematic/rvi_sota_client">Client src (dev)</a></li>
	            
	                <li class="top-bar docs"><a href="http://advancedtelematic.github.io/rvi_sota_server/">Docs</a></li>
	            

                <li class="visible-xs second-menu separator"></li>
                <li class="second-menu visible-xs clearfix">
                  <ul class="column">
                    <li><a href="http://atsgarage.com/en/privacy-policy.html" target="_blank">Privacy Policy</a></li>
                    <li><a href="http://atsgarage.com/en/terms-conditions.html" target="_blank">Terms of Use</a></li>
                    <li><a href="http://atsgarage.com/en/imprint.html" target="_blank">Imprint</a></li>
                  </ul>
                  <ul class="column">
                    <li><a href="https://github.com/advancedtelematic" target="_blank">Github</a></li>
                    <li><a href="https://twitter.com/ats_news" target="_blank">Twitter</a></li>
                  </ul>
                </li>
                <li class="second-menu small-logo visible-xs">
                  <img src="http://advancedtelematic.com/images/ats_small_logo_white.svg" alt="ATS Advanced Telematic Systems">
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    

        <div id="main-body">
            <button id="toggle-navigation" class="collapsed">Categories</button>
            <div id="navigation" class="collapsed">
                <ul class="nav nav-tabs nav-justified" data-tabs="tabs">
    
    
    
    
    <li  class="active" ><a data-toggle="tab" href="#genivi">GENIVI SOTA</a></li>
    
</ul>

<div class="tab-content">

    
    
    
    

    <div id="genivi" class="tab-pane fade in  active ">

        <ul class="nav nav-list">
        
            
                
                    
                    
                            
                                <li class="nav-header nav-section-title">Getting Started</li>
                            
                        <li><a class="nav-link " href="/rvi_sota_server/doc/deployment-with-dockercompose.html">Deploying with docker-compose</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/doc/building-installing.html">Building & Deploying from Source</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/doc/admin-gui-user-guide.html">Admin GUI Guide</a></li>
                    
                
            
                
            
                
            
                
            
        
            
                
            
                
                    
                    
                            
                                <li class="nav-header nav-section-title">Developers</li>
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/api.html">API</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/contributing.html">Contributing</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/architecture.html">SOTA Architecture</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/application-configuration-options.html">Application configuration options</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/scala-style-guide.html">Scala Style Guide</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/messaging-in-rvisotaserver.html">Messaging in rvi_sota_server</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/database-style-guide.html">Database Style Guide</a></li>
                    
                
            
                
            
                
            
        
            
                
            
                
            
                
                    
                    
                            
                                <li class="nav-header nav-section-title">Client Documentation</li>
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/introduction.html">Introduction</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/building-the-sota-client.html">Building the SOTA Client</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/client-startup-and-configuration.html">Client Startup and Configuration</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/client-commands-and-events-reference.html">Client commands and events API reference</a></li>
                    
                            
                        <li><a class="nav-link  active " href="/rvi_sota_server/cli/client-implementation.html">RVI Client Implementation Reference</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/client-implementation-example-session.html">RVI Client Implementation Example Session</a></li>
                    
                
            
                
            
        
            
                
            
                
            
                
            
                
                    
                    
                            
                                <li class="nav-header nav-section-title">Reference</li>
                            
                        <li><a class="nav-link " href="/rvi_sota_server/ref/dependencies.html">Dependencies</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/ref/requirements.html">Requirements</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/ref/use-cases.html">Use Cases</a></li>
                    
                
            
        
        </ul>

    </div>
    
</div>


            </div>

            <div id="content">
                <div class="page-header">
    <h2>RVI Client Implementation Reference
        
    </h2>
</div>

<div class="paragraph">
<p>The GENIVI SOTA project includes a <a href="https://github.com/genivi/rvi_sota_client">client implementation</a> in <a href="http://rust-lang.org">Rust</a> for the GENIVI platform, but any client that implements the necessary JSON-RPC calls may be used. This document is a reference doc for those calls. You can also take a look at a detailed breakdown of a complete session, from registration through to completed package installation, <a href="../dev/client-implementation-example-session.html">here</a>.</p>
</div>
<div class="paragraph">
<p>All client-server communication in SOTA is done over <a href="https://github.com/genivi/rvi_core">RVI</a>, so we will assume that you&#8217;ve already got an RVI client node running on the client device, set up to communicate with the SOTA server node. All of the client&#8217;s communication with the server is intermediated by the RVI client node, so both in this doc and in the <a href="../dev/client-implementation-example-session.html">example session</a>, "server" and "RVI client node" are used interchangeably.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#rpc-calls-client-rvi">RPC Calls Client &#8594; RVI</a>
<ul class="sectlevel2">
<li><a href="#genivi-org-backend-sota-start">genivi.org/backend/sota/start</a></li>
<li><a href="#genivi-org-backend-sota-ack">genivi.org/backend/sota/ack</a></li>
<li><a href="#genivi-org-backend-sota-report">genivi.org/backend/sota/report</a></li>
<li><a href="#genivi-org-backend-sota-packages">genivi.org/backend/sota/packages</a></li>
</ul>
</li>
<li><a href="#rpc-calls-rvi-client">RPC Calls RVI &#8594; Client</a>
<ul class="sectlevel2">
<li><a href="#sota-notify">/sota/notify</a></li>
<li><a href="#sota-start">/sota/start</a></li>
<li><a href="#sota-chunk">/sota/chunk</a></li>
<li><a href="#sota-finish">/sota/finish</a></li>
<li><a href="#sota-getpackages">/sota/getpackages</a></li>
<li><a href="#sota-abort">/sota/abort</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The client, in a nutshell, is a middleman. It listens for messages from RVI, accepts package downloads, sends them to the system&#8217;s software loading manager, and reports back to the RVI node the results of the package install. It also can send a list of the packages currently installed on the device when the server asks for it.</p>
</div>
<div class="paragraph">
<p>All communication with RVI is done via JSON-RPC. The implementation of the client&#8217;s communication with the local software update manager is left up to the developer.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rpc-calls-client-rvi">RPC Calls Client &#8594; RVI</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All Client &#8594; RVI node JSON RPC calls have an object containing three name/value pairs under <code>params</code>. They are <code>service_name</code>, <code>timeout</code> (given as a Unix epoch time), and <code>parameters</code>. <code>parameters</code> contains all of the actual content of the SOTA protocol.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Due to a bug in RVI, the <code>parameters</code> value is actually a one-element array. This should change after the next RVI release
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="genivi-org-backend-sota-start">genivi.org/backend/sota/start</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notification that the client has accepted a package install for one or more packages, and the server may start sending them</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><strong>services:</strong> An object containing all the services the client supplies, and their fully qualified names, as name/value pairs.</p>
</li>
<li>
<p><strong>packages:</strong> An array listing the packages the client is willing to accept. Must only include packages the client has been notified about. Each is an object containing the name and version of the package as name/value pairs.</p>
</li>
<li>
<p><strong>vin:</strong> The VIN of the client device.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">2677667615071</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/backend/sota/start&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;timeout&quot;</span>: <span style="color: #666666">1445520390</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: [
      {
        <span style="color: #008000; font-weight: bold">&quot;packages&quot;</span>: [
          {
            <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;ghc&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;7.6.2&quot;</span>
          }
        ],
        <span style="color: #008000; font-weight: bold">&quot;services&quot;</span>: {
          <span style="color: #008000; font-weight: bold">&quot;start&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/vin/VINOOLAM0FAU2DEEP/sota/start&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;chunk&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/vin/VINOOLAM0FAU2DEEP/sota/chunk&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;abort&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/vin/VINOOLAM0FAU2DEEP/sota/abort&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;finish&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/vin/VINOOLAM0FAU2DEEP/sota/finish&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;getpackages&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/vin/VINOOLAM0FAU2DEEP/sota/getpackages&quot;</span>
        },
        <span style="color: #008000; font-weight: bold">&quot;vin&quot;</span>: <span style="color: #BA2121">&quot;VINOOLAM0FAU2DEEP&quot;</span>
      }
    ]
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="genivi-org-backend-sota-ack">genivi.org/backend/sota/ack</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acknowledgement of a start message, or a received chunk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><strong>chunks:</strong> An array containing a list of the indicies of all chunks already received, as integers.</p>
</li>
<li>
<p><strong>package:</strong> An object containing the name and version of the package as name/value pairs.</p>
</li>
<li>
<p><strong>vin:</strong> The VIN of the client device.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">2677989151999</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/backend/sota/ack&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;timeout&quot;</span>: <span style="color: #666666">1445520390</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: [
      {
        <span style="color: #008000; font-weight: bold">&quot;package&quot;</span>: {
          <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;ghc&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;7.6.2&quot;</span>
        },
        <span style="color: #008000; font-weight: bold">&quot;chunks&quot;</span>: [<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">5</span>],
        <span style="color: #008000; font-weight: bold">&quot;vin&quot;</span>: <span style="color: #BA2121">&quot;VINOOLAM0FAU2DEEP&quot;</span>
      }
    ]
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="genivi-org-backend-sota-report">genivi.org/backend/sota/report</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A report on the success or failure of the package install, after the file transfer has completed successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><strong>status:</strong> A boolean indicating whether the install succeeded or failed.</p>
</li>
<li>
<p><strong>description:</strong> A status message from the install. Likely passed through from the local software loading manager.</p>
</li>
<li>
<p><strong>package:</strong> An object containing the name and version of the package as name/value pairs.</p>
</li>
<li>
<p><strong>vin:</strong> The VIN of the client device.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">2680479224662</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/backend/sota/report&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;timeout&quot;</span>: <span style="color: #666666">1445520392</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: [
      {
        <span style="color: #008000; font-weight: bold">&quot;package&quot;</span>: {
          <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;ghc&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;7.6.2&quot;</span>
        },
        <span style="color: #008000; font-weight: bold">&quot;status&quot;</span>: <span style="color: #008000; font-weight: bold">true</span>,
        <span style="color: #008000; font-weight: bold">&quot;description&quot;</span>: <span style="color: #BA2121">&quot;Successfully installed package&quot;</span>,
        <span style="color: #008000; font-weight: bold">&quot;vin&quot;</span>: <span style="color: #BA2121">&quot;VINOOLAM0FAU2DEEP&quot;</span>
      }
    ]
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="genivi-org-backend-sota-packages">genivi.org/backend/sota/packages</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of the packages currently installed on the client, and their versions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><strong>packages:</strong> An array listing the packages available for update/install. Each element is an object containing the name and version of the package as a name/value pair.</p>
</li>
<li>
<p><strong>vin:</strong> The VIN of the client device.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">2680479224662</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/backend/sota/packages&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;timeout&quot;</span>: <span style="color: #666666">1445520390</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: [
      {
        <span style="color: #008000; font-weight: bold">&quot;packages&quot;</span>: [
          {
            <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;ghc&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;7.6.2&quot;</span>
          },
          {
            <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;myPackage&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;1.2.3&quot;</span>
          }
        ],
        <span style="color: #008000; font-weight: bold">&quot;vin&quot;</span>: <span style="color: #BA2121">&quot;VINOOLAM0FAU2DEEP&quot;</span>
      }
    ]
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rpc-calls-rvi-client">RPC Calls RVI &#8594; Client</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All RVI node &#8594; Client JSON RPC calls have an object containing two name/value pairs under <code>params</code>. They are <code>service_name</code> and <code>parameters</code>. <code>parameters</code> contains all of the actual content of the SOTA protocol. Note that the RVI node doesn&#8217;t supply a timeout.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Due to a bug in RVI, the <code>parameters</code> value is actually a one-element array. This should change after the next RVI release.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="sota-notify">/sota/notify</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notification that there is one or more new package updates ready to be installed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><strong>services:</strong> An object containing all the services the RVI node supplies, and their fully qualified names, as name/value pairs.</p>
</li>
<li>
<p><strong>packages:</strong> An array listing the packages available for update/install. Each element contains:</p>
<div class="ulist">
<ul>
<li>
<p><strong>package:</strong> An object containing the name and version of the package as name/value pairs.</p>
</li>
<li>
<p><strong>size:</strong> The size, in bytes, of the package.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">1</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;/sota/notify&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: [
      {
        <span style="color: #008000; font-weight: bold">&quot;services&quot;</span>: {
          <span style="color: #008000; font-weight: bold">&quot;ack&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/backend/sota/ack&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;report&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/backend/sota/report&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;start&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/backend/sota/start&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;packages&quot;</span>: <span style="color: #BA2121">&quot;genivi.org/backend/sota/packages&quot;</span>
        },
        <span style="color: #008000; font-weight: bold">&quot;packages&quot;</span>: [
          {
            <span style="color: #008000; font-weight: bold">&quot;size&quot;</span>: <span style="color: #666666">35768</span>,
            <span style="color: #008000; font-weight: bold">&quot;package&quot;</span>: {
              <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;7.6.2&quot;</span>,
              <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;ghc&quot;</span>
            }
          }
        ]
      }
    ]
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sota-start">/sota/start</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Package file transfer initialization</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><strong>chunkscount:</strong> The number of 64kb chunks the file contains.</p>
</li>
<li>
<p><strong>checksum:</strong> The SHA1 checksum of the package binary.</p>
</li>
<li>
<p><strong>package:</strong> An object containing the name and version of the package as name/value pairs.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">1</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;/sota/start&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: [
      {
        <span style="color: #008000; font-weight: bold">&quot;chunkscount&quot;</span>: <span style="color: #666666">1</span>,
        <span style="color: #008000; font-weight: bold">&quot;checksum&quot;</span>: <span style="color: #BA2121">&quot;e6db09bd2c84db66534107da4ef00e6addccba8e&quot;</span>,
        <span style="color: #008000; font-weight: bold">&quot;package&quot;</span>: {
          <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;7.6.2&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;ghc&quot;</span>
        }
      }
    ]
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sota-chunk">/sota/chunk</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delivery of a 64kb chunk of the package file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><strong>index:</strong> The index of the chunk being sent. 1-indexed.</p>
</li>
<li>
<p><strong>bytes:</strong> The chunk itself. Base64-encoded.</p>
</li>
<li>
<p><strong>package:</strong> An object containing the name and version of the package as name/value pairs.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">1</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;/sota/chunk&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: [
      {
        <span style="color: #008000; font-weight: bold">&quot;index&quot;</span>: <span style="color: #666666">1</span>,
        <span style="color: #008000; font-weight: bold">&quot;bytes&quot;</span>: <span style="color: #BA2121">&quot;7avu2wMAA&lt;rest of base64 encoded data chunk omitted&gt;AAAKWVo=&quot;</span>,
        <span style="color: #008000; font-weight: bold">&quot;package&quot;</span>: {
          <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;7.6.2&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;ghc&quot;</span>
        }
      }
    ]
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sota-finish">/sota/finish</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notification of transfer completion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><strong>package:</strong> An object containing the name and version of the package as name/value pairs.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">1</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;/sota/finish&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: [
      {
        <span style="color: #008000; font-weight: bold">&quot;package&quot;</span>: {
          <span style="color: #008000; font-weight: bold">&quot;version&quot;</span>: <span style="color: #BA2121">&quot;7.6.2&quot;</span>,
          <span style="color: #008000; font-weight: bold">&quot;name&quot;</span>: <span style="color: #BA2121">&quot;ghc&quot;</span>
        }
      }
    ]
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sota-getpackages">/sota/getpackages</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A request for information about what packages the client currently has installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><strong>None</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">1</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;/sota/getpackages&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: []
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sota-abort">/sota/abort</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A notification that all pending or in-progress package installs should be aborted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><strong>None</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;jsonrpc&quot;</span>: <span style="color: #BA2121">&quot;2.0&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;id&quot;</span>: <span style="color: #666666">1</span>,
  <span style="color: #008000; font-weight: bold">&quot;method&quot;</span>: <span style="color: #BA2121">&quot;message&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;params&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;service_name&quot;</span>: <span style="color: #BA2121">&quot;/sota/abort&quot;</span>,
    <span style="color: #008000; font-weight: bold">&quot;parameters&quot;</span>: []
  }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

            </div>
        </div>
        <footer class="text-spacing-lg">
    <div class="bright clearfix container-fluid">
        <span class="copyright-links text-spacing-md">
        Doc site built with <a class="menu-link" href="https://asciidoctor.org/">Asciidoctor</a> and <a class="menu-link" href="https://jekyllrb.com/">Jekyll</a>
        </span>
       
        <a class="to-top-small-logo-container" href="#header-navbar">
            <span class="small-logo"></span>
            <span id="to-top"></span>
        </a>
    </div>
</footer>

        
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69301419-1', 'auto');
  ga('send', 'pageview');
</script>

        

        <script src="/rvi_sota_server/js/main.js"></script>
    </body>
</html>
