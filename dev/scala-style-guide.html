<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>GENIVI SOTA Project : Scala Style Guide</title>
        <meta name="description" content="Software Updates Over the Air">

        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="/favicon/manifest.json">
        <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg">
        <link rel="shortcut icon" href="/favicon/favicon.ico">
        <meta name="msapplication-config" content="/favicon/browserconfig.xml">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css"> 
        <link rel="stylesheet" href="/rvi_sota_server/css/main.css">
        <link rel='stylesheet' href='//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css'>
    </head>
    <body>
        
      <nav class="top-bar navbar navbar-default navbar-fixed-top text-spacing-md" id="header-navbar">
        <div class="top-bar container-fluid header-wrapper">
          <div class="top-bar navbar-header">
            <button class="navbar-toggle collapsed menu-selector-btn header-collapse-trigger" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-expanded="false" aria-controls="navbar-menu">
              <span class="sr-only">toggle</span>
              <span class="icon-bar top-bar"></span>
              <span class="icon-bar middle-bar"></span>
              <span class="icon-bar bottom-bar"></span>
            </button>
            <a class="top-bar navbar-brand" href="/rvi_sota_server/index.html"><img class="top-bar unfolded-header" src="/rvi_sota_server/images/icon-logo.png" alt="rvi_sota_server"></a>

          </div>
          <ul class="top-bar nav navbar-nav navbar-right visible-md visible-lg visible-sm">
            <li class="top-bar visible-sm visible-md visible-lg">
              <a class="top-bar ats-garage-btn" href="https://advancedtelematic.com/" target="_blank">Developed by ATS
              </a>
            </li>
          </ul>
          <div class="top-bar navbar-collapse collapse header-collapse-nav" id="navbar-menu">
            <div class="top-bar container center-nav-container">
              <div class="btn-container visible-xs">
                <a class="ico-arrow-top-right btn-small text-center uppercase" href="https://app.atsgarage.com/login" target="_blank">Start Now</a>
              </div>
              <div class="btn-container visible-xs">
                <a class="inverted btn-small text-center uppercase" href="https://app.atsgarage.com/login" target="_blank">Login</a>
              </div>
              <ul class="top-bar nav nav-list navbar-nav">
	            
	                <li class="top-bar "><a href="https://github.com/genivi/rvi_sota_server">Server src (stable)</a></li>
	            
	                <li class="top-bar "><a href="https://github.com/advancedtelematic/rvi_sota_server">Server src (dev)</a></li>
	            
	                <li class="top-bar "><a href="https://github.com/genivi/rvi_sota_client">Client src (stable)</a></li>
	            
	                <li class="top-bar "><a href="https://github.com/advancedtelematic/rvi_sota_client">Client src (dev)</a></li>
	            
	                <li class="top-bar docs"><a href="http://advancedtelematic.github.io/rvi_sota_server/">Docs</a></li>
	            

                <li class="visible-xs second-menu separator"></li>
                <li class="second-menu visible-xs clearfix">
                  <ul class="column">
                    <li><a href="http://atsgarage.com/en/privacy-policy.html" target="_blank">Privacy Policy</a></li>
                    <li><a href="http://atsgarage.com/en/terms-conditions.html" target="_blank">Terms of Use</a></li>
                    <li><a href="http://atsgarage.com/en/imprint.html" target="_blank">Imprint</a></li>
                  </ul>
                  <ul class="column">
                    <li><a href="https://github.com/advancedtelematic" target="_blank">Github</a></li>
                    <li><a href="https://twitter.com/ats_news" target="_blank">Twitter</a></li>
                  </ul>
                </li>
                <li class="second-menu small-logo visible-xs">
                  <img src="http://advancedtelematic.com/images/ats_small_logo_white.svg" alt="ATS Advanced Telematic Systems">
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    

        <div id="main-body">
            <button id="toggle-navigation" class="collapsed">Categories</button>
            <div id="navigation" class="collapsed">
                <ul class="nav nav-tabs nav-justified" data-tabs="tabs">
    
    
    
    
    <li  class="active" ><a data-toggle="tab" href="#genivi">GENIVI SOTA</a></li>
    
</ul>

<div class="tab-content">

    
    
    
    

    <div id="genivi" class="tab-pane fade in  active ">

        <ul class="nav nav-list">
        
            
                
                    
                    
                            
                                <li class="nav-header nav-section-title">Getting Started</li>
                            
                        <li><a class="nav-link " href="/rvi_sota_server/doc/deployment-with-dockercompose.html">Deploying with docker-compose</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/doc/building-installing.html">Building & Deploying from Source</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/doc/admin-gui-user-guide.html">Admin GUI Guide</a></li>
                    
                
            
                
            
                
            
                
            
        
            
                
            
                
                    
                    
                            
                                <li class="nav-header nav-section-title">Developers</li>
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/api.html">API</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/contributing.html">Contributing</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/architecture.html">SOTA Architecture</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/application-configuration-options.html">Application configuration options</a></li>
                    
                            
                        <li><a class="nav-link  active " href="/rvi_sota_server/dev/scala-style-guide.html">Scala Style Guide</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/messaging-in-rvisotaserver.html">Messaging in rvi_sota_server</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/dev/database-style-guide.html">Database Style Guide</a></li>
                    
                
            
                
            
                
            
        
            
                
            
                
            
                
                    
                    
                            
                                <li class="nav-header nav-section-title">Client Documentation</li>
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/introduction.html">Introduction</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/building-the-sota-client.html">Building the SOTA Client</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/client-startup-and-configuration.html">Client Startup and Configuration</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/client-commands-and-events-reference.html">Client commands and events API reference</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/client-implementation.html">RVI Client Implementation Reference</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/cli/client-implementation-example-session.html">RVI Client Implementation Example Session</a></li>
                    
                
            
                
            
        
            
                
            
                
            
                
            
                
                    
                    
                            
                                <li class="nav-header nav-section-title">Reference</li>
                            
                        <li><a class="nav-link " href="/rvi_sota_server/ref/dependencies.html">Dependencies</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/ref/requirements.html">Requirements</a></li>
                    
                            
                        <li><a class="nav-link " href="/rvi_sota_server/ref/use-cases.html">Use Cases</a></li>
                    
                
            
        
        </ul>

    </div>
    
</div>


            </div>

            <div id="content">
                <div class="page-header">
    <h2>Scala Style Guide
        
    </h2>
</div>

<div class="paragraph">
<p>The document contains Scala stylistic guidelines, which should be
fillowed in order to produce readable and idiomatic code, allowing
effective collaboration. The following style guides were used as a
basis:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://docs.scala-lang.org/style/">Typesafe Scala Style Guide</a></p>
</li>
<li>
<p><a href="https://github.com/databricks/scala-style-guide">Databricks Scala Guide</a></p>
</li>
<li>
<p><a href="http://twitter.github.io/effectivescala/">Twitter&#8217;s Effective Scala</a></p>
</li>
</ol>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#syntactic-style">Syntactic Style</a>
<ul class="sectlevel2">
<li><a href="#indentation">Indentation</a></li>
<li><a href="#naming-convention">Naming Convention</a></li>
<li><a href="#declarations">Declarations</a></li>
<li><a href="#imports">Imports</a></li>
<li><a href="#control-structures">Control Structures</a></li>
<li><a href="#infix-methods">Infix Methods</a></li>
<li><a href="#documentation-style">Documentation Style</a></li>
</ul>
</li>
<li><a href="#language-features">Language Features</a>
<ul class="sectlevel2">
<li><a href="#override-modifier">override Modifier</a></li>
<li><a href="#destructuring-binds">Destructuring Binds</a></li>
<li><a href="#symbolic-methods-operator-overloading">Symbolic Methods (Operator Overloading)</a></li>
<li><a href="#type-inference">Type Inference</a></li>
<li><a href="#return-statements">Return Statements</a></li>
<li><a href="#recursion-and-tail-recursion">Recursion and Tail Recursion</a></li>
<li><a href="#exception-handling">Exception Handling</a></li>
<li><a href="#options">Options</a></li>
<li><a href="#monadic-chaining">Monadic Chaining</a></li>
<li><a href="#concurrency">Concurrency</a></li>
<li><a href="#private-fields">Private Fields</a></li>
<li><a href="#default-parameter-values">Default Parameter Values</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="syntactic-style">Syntactic Style</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="indentation">Indentation</h3>
<div class="ulist">
<ul>
<li>
<p>General indentation: 2 spaces</p>
</li>
<li>
<p>Limit lines to 100 characters</p>
</li>
<li>
<p>If a single expression is longer than 100 characters it should be
spitted into multiple expressions by assigning intermediate results to
values. In case it is not practical and the expression should be wrapped
across several lines, each successive line should be indented two spaces
from the first.</p>
</li>
<li>
<p>When calling a method which takes numerous arguments (in the range of
five or more), it is often necessary to wrap the method invocation onto
multiple lines. In such cases, put each argument on a line by itself,
indented two spaces from the current indent level:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span>foo<span style="color: #666666">(</span>
  someVeryLongFieldName<span style="color: #666666">,</span>
  andAnotherVeryLongFieldName<span style="color: #666666">,</span>
  <span style="color: #BA2121">&quot;this is a string&quot;</span><span style="color: #666666">,</span>
  <span style="color: #666666">3.1415)</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="naming-convention">Naming Convention</h3>
<div class="ulist">
<ul>
<li>
<p>Classes, traits should follow Java class convention, i.e. CamelCase
style with the first letter capitalized.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">RedFox</span>

<span style="color: #008000; font-weight: bold">trait</span> <span style="color: #0000FF; font-weight: bold">LazyDog</span></code></pre>
</div>
</div>
</li>
<li>
<p>Objects follow the class naming convention except when attempting to
mimic a package or a function.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span><span style="color: #008000; font-weight: bold">object</span> <span style="color: #0000FF; font-weight: bold">ast</span> <span style="color: #666666">{</span>
  <span style="color: #008000; font-weight: bold">sealed</span> <span style="color: #008000; font-weight: bold">trait</span> <span style="color: #0000FF; font-weight: bold">Expr</span>
  <span style="color: #008000; font-weight: bold">case</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Plus</span><span style="color: #666666">(</span>e1<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Expr</span><span style="color: #666666">,</span> e2<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Expr</span><span style="color: #666666">)</span> <span style="color: #008000; font-weight: bold">extends</span> <span style="color: #0000FF; font-weight: bold">Expr</span>
  <span style="color: #666666">...</span>
<span style="color: #666666">}</span>

<span style="color: #008000; font-weight: bold">object</span> <span style="color: #0000FF; font-weight: bold">inc</span> <span style="color: #666666">{</span>
  <span style="color: #008000; font-weight: bold">def</span> apply<span style="color: #666666">(</span>x<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Int</span><span style="color: #666666">)</span><span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Int</span> <span style="color: #666666">=</span> x <span style="color: #666666">+</span> <span style="color: #666666">1</span>
<span style="color: #666666">}</span></code></pre>
</div>
</div>
</li>
<li>
<p>Scala packages should follow the Java package naming conventions</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span><span style="color: #008000; font-weight: bold">package</span> <span style="color: #0000FF; font-weight: bold">com.databricks.resourcemanager</span></code></pre>
</div>
</div>
</li>
<li>
<p>Constant names should be in upper camel case. That is, if the member
is final, immutable and it belongs to a package object or an object, it
may be considered a constant (similar to Javaâ€™s static final members):</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span><span style="color: #008000; font-weight: bold">object</span> <span style="color: #0000FF; font-weight: bold">Foo</span> <span style="color: #666666">{</span>
  <span style="color: #008000; font-weight: bold">val</span> <span style="color: #0000FF; font-weight: bold">Bar</span> <span style="color: #008000; font-weight: bold">=</span> <span style="color: #666666">10</span>
<span style="color: #666666">}</span></code></pre>
</div>
</div>
</li>
<li>
<p>Enums should be CamelCase with first letter capitalized.</p>
</li>
<li>
<p>Names for methods should be in the camelCase style with the first
letter lower-case.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="declarations">Declarations</h3>
<div class="paragraph">
<p>All guides referenced above agreed on how the declarations should be
styled. Please refer to the one from
<a href="http://docs.scala-lang.org/style/declarations.html">Scala Style Guide</a>,
as is most comprehensive of them.</p>
</div>
</div>
<div class="sect2">
<h3 id="imports">Imports</h3>
<div class="ulist">
<ul>
<li>
<p>Do NOT use wildcard imports, unless you are importing implicit
methods.</p>
</li>
<li>
<p>Always import packages using absolute paths</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="control-structures">Control Structures</h3>
<div class="paragraph">
<p>Control structures should be styled as defined in
<a href="http://docs.scala-lang.org/style/control-structures.html">Scala Style
Guide</a></p>
</div>
</div>
<div class="sect2">
<h3 id="infix-methods">Infix Methods</h3>
<div class="paragraph">
<p>Do NOT use infix notation for methods that aren&#8217;t symbolic methods (i.e.
operator overloading).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span>
<span style="color: #408080; font-style: italic">// Correct</span>
list<span style="color: #666666">.</span>map<span style="color: #666666">(</span>func<span style="color: #666666">)</span>
string<span style="color: #666666">.</span>contains<span style="color: #666666">(</span><span style="color: #BA2121">&quot;foo&quot;</span><span style="color: #666666">)</span>

<span style="color: #408080; font-style: italic">// Wrong</span>
list map <span style="color: #666666">(</span>func<span style="color: #666666">)</span>
string contains <span style="color: #BA2121">&quot;foo&quot;</span>

<span style="color: #408080; font-style: italic">// But overloaded operators should be invoked in infix style</span>
arrayBuffer <span style="color: #666666">+=</span> elem</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="documentation-style">Documentation Style</h3>
<div class="ulist">
<ul>
<li>
<p>Use Java docs style instead of Scala docs style.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span><span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">  * Style mandated by &quot;Scala Style Guide&quot;</span>
<span style="color: #408080; font-style: italic">  */</span>

<span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic"> * Style to use</span>
<span style="color: #408080; font-style: italic"> */</span></code></pre>
</div>
</div>
</li>
<li>
<p>Do not use @author tags since it does not encourage Collective Code
Ownership.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="language-features">Language Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="override-modifier">override Modifier</h3>
<div class="paragraph">
<p>Always add override modifier for methods, both for overriding concrete
methods and implementing abstract methods. The Scala compiler does not
require <code>override</code> for implementing abstract methods.</p>
</div>
</div>
<div class="sect2">
<h3 id="destructuring-binds">Destructuring Binds</h3>
<div class="paragraph">
<p>Destructuring bind (sometimes called tuple extraction) is a convenient
way to assign two variables in one expression.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span><span style="color: #008000; font-weight: bold">val</span> <span style="color: #666666">(</span>a<span style="color: #666666">,</span> b<span style="color: #666666">)</span> <span style="color: #008000; font-weight: bold">=</span> <span style="color: #666666">(1,</span> <span style="color: #666666">2)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>However, do NOT use them in constructors, especially when <code>a</code> and <code>b</code>
need to be marked transient. The Scala compiler generates an extra
Tuple2 field that will not be transient for the above example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span>
<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">MyClass</span> <span style="color: #666666">{</span>
  <span style="color: #408080; font-style: italic">// This will NOT work because the compiler generates a non-transient Tuple2</span>
  <span style="color: #408080; font-style: italic">// that points to both a and b.</span>
  <span style="color: #AA22FF">@transient</span> <span style="color: #008000; font-weight: bold">private</span> <span style="color: #008000; font-weight: bold">val</span> <span style="color: #666666">(</span>a<span style="color: #666666">,</span> b<span style="color: #666666">)</span> <span style="color: #008000; font-weight: bold">=</span> someFuncThatReturnsTuple2<span style="color: #666666">()</span>
<span style="color: #666666">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="symbolic-methods-operator-overloading">Symbolic Methods (Operator Overloading)</h3>
<div class="paragraph">
<p>Avoid symbolic method names, unless you are defining them for natural
arithmetic operations (e.g. <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>) or as part as some DSL
(<code>!</code> to send message in Akka, <code>\</code> to concatenate parts of a path or an
uri). In second case they should be defined as aliases to the
non-symbolic functions.</p>
</div>
</div>
<div class="sect2">
<h3 id="type-inference">Type Inference</h3>
<div class="paragraph">
<p>Scala type inference, especially left-side type inference and closure
inference, can make code more concise. That said, there are a few cases
where explicit typing should be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Public methods should be explicitly typed</strong>, otherwise the
compiler&#8217;s inferred type can often surprise you.</p>
</li>
<li>
<p><strong>Implicit methods should be explicitly typed</strong>, otherwise it can
crash the Scala compiler with incremental compilation.</p>
</li>
<li>
<p><strong>Variables or closures with non-obvious types should be explicitly
typed</strong>. A good litmus test is that explicit types should be used if a
code reviewer cannot determine the type in 3 seconds.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="return-statements">Return Statements</h3>
<div class="paragraph">
<p><strong>Do NOT use return statements</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="recursion-and-tail-recursion">Recursion and Tail Recursion</h3>
<div class="paragraph">
<p>Do NOT use recursion, unless the problem can be naturally framed
recursively (e.g. graph traversal, tree traversal).</p>
</div>
<div class="paragraph">
<p>For functions that are meant to be tail recursive, apply <code>@tailrec</code>
annotation to make sure the compiler can check it is tail recursive (you
will be surprised how often seemingly tail recursive code is actually
not tail recursive due to the use of closures and functional
transformations.)</p>
</div>
</div>
<div class="sect2">
<h3 id="exception-handling">Exception Handling</h3>
<div class="ulist">
<ul>
<li>
<p>Do NOT catch Throwable or Exception. Use
<code>scala.util.control.NonFatal</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span>
<span style="color: #008000; font-weight: bold">try</span> <span style="color: #666666">{</span>
  <span style="color: #666666">...</span>
<span style="color: #666666">}</span> <span style="color: #008000; font-weight: bold">catch</span> <span style="color: #666666">{</span>
  <span style="color: #008000; font-weight: bold">case</span> <span style="color: #0000FF; font-weight: bold">NonFatal</span><span style="color: #666666">(</span>e<span style="color: #666666">)</span> <span style="color: #008000; font-weight: bold">=&gt;</span>
    <span style="color: #408080; font-style: italic">// handle exception; note that NonFatal does not match InterruptedException</span>
  <span style="color: #008000; font-weight: bold">case</span> e<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">InterruptedException</span> <span style="color: #666666">=&gt;</span>
    <span style="color: #408080; font-style: italic">// handle InterruptedException</span>
<span style="color: #666666">}</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="options">Options</h3>
<div class="ulist">
<ul>
<li>
<p>Use <code>Option</code> when the value can be empty. Compared with <code>null</code>, an
<code>Option</code> explicitly states in the API contract that the value can be
<code>None</code>.</p>
</li>
<li>
<p>When constructing an <code>Option</code>, use <code>Option</code> rather than <code>Some</code> to
guard against <code>null</code> values.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span>
<span style="color: #008000; font-weight: bold">def</span> myMethod1<span style="color: #666666">(</span>input<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">String</span><span style="color: #666666">)</span><span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Option</span><span style="color: #666666">[</span><span style="color: #B00040">String</span><span style="color: #666666">]</span> <span style="color: #008000; font-weight: bold">=</span> <span style="color: #0000FF; font-weight: bold">Option</span><span style="color: #666666">(</span>transform<span style="color: #666666">(</span>input<span style="color: #666666">))</span>

<span style="color: #408080; font-style: italic">// This is not as robust because transform can return null, and then</span>
<span style="color: #408080; font-style: italic">// myMethod2 will return Some(null).</span>
<span style="color: #008000; font-weight: bold">def</span> myMethod2<span style="color: #666666">(</span>input<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">String</span><span style="color: #666666">)</span><span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Option</span><span style="color: #666666">[</span><span style="color: #B00040">String</span><span style="color: #666666">]</span> <span style="color: #008000; font-weight: bold">=</span> <span style="color: #0000FF; font-weight: bold">Some</span><span style="color: #666666">(</span>transform<span style="color: #666666">(</span>input<span style="color: #666666">))</span></code></pre>
</div>
</div>
</li>
<li>
<p>Do not use <code>None</code> to represent exceptions.</p>
</li>
<li>
<p>Do not call <code>get</code> directly on an <code>Option</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="monadic-chaining">Monadic Chaining</h3>
<div class="paragraph">
<p>One of Scala&#8217;s powerful features is monadic chaining. Almost everything
(e.g. collections, Option, Future, Try) is a monad and operations on
them can be chained together. This is an incredibly powerful concept,
but chaining should be used sparingly. In particular:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Do NOT chain (and/or nest) more than one <code>flatMap</code> operations.</p>
</li>
<li>
<p>If you need to chain more than one <code>flatMap</code>, use for-comprehension.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="concurrency">Concurrency</h3>
<div class="paragraph">
<p>Use Akka for concurrency.</p>
</div>
</div>
<div class="sect2">
<h3 id="private-fields">Private Fields</h3>
<div class="paragraph">
<p>Note that <code>private</code> fields are still accessible by other instances of
the same class, so protecting it with <code>this.synchronized</code> (or just
<code>synchronized</code>) is not technically sufficient. Make the field
<code>private[this]</code> instead.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span><span style="color: #408080; font-style: italic">// The following is still unsafe.</span>
<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Foo</span> <span style="color: #666666">{</span>
  <span style="color: #008000; font-weight: bold">private</span> <span style="color: #008000; font-weight: bold">var</span> count<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Int</span> <span style="color: #666666">=</span> <span style="color: #666666">0</span>
  <span style="color: #008000; font-weight: bold">def</span> inc<span style="color: #666666">()</span><span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Unit</span> <span style="color: #666666">=</span> synchronized <span style="color: #666666">{</span> count <span style="color: #666666">+</span> <span style="color: #666666">1</span> <span style="color: #666666">}</span>
<span style="color: #666666">}</span>

<span style="color: #408080; font-style: italic">// The following is safe.</span>
<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Foo</span> <span style="color: #666666">{</span>
  <span style="color: #008000; font-weight: bold">private</span><span style="color: #666666">[</span><span style="color: #B00040">this</span><span style="color: #666666">]</span> <span style="color: #008000; font-weight: bold">var</span> count<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Int</span> <span style="color: #666666">=</span> <span style="color: #666666">0</span>
  <span style="color: #008000; font-weight: bold">def</span> inc<span style="color: #666666">()</span><span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Unit</span> <span style="color: #666666">=</span> synchronized <span style="color: #666666">{</span> count <span style="color: #666666">+</span> <span style="color: #666666">1</span> <span style="color: #666666">}</span>
<span style="color: #666666">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="default-parameter-values">Default Parameter Values</h3>
<div class="paragraph">
<p>Do NOT use default parameter values. Overload the method instead.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="scala"><span></span>
<span style="color: #408080; font-style: italic">// Breaks Java interoperability</span>
<span style="color: #008000; font-weight: bold">def</span> sample<span style="color: #666666">(</span>ratio<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Double</span><span style="color: #666666">,</span> withReplacement<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Boolean</span> <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">false</span><span style="color: #666666">)</span><span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">RDD</span><span style="color: #666666">[</span><span style="color: #B00040">T</span><span style="color: #666666">]</span> <span style="color: #008000; font-weight: bold">=</span> <span style="color: #666666">{</span> <span style="color: #666666">...</span> <span style="color: #666666">}</span>

<span style="color: #408080; font-style: italic">// The following two work</span>
<span style="color: #008000; font-weight: bold">def</span> sample<span style="color: #666666">(</span>ratio<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Double</span><span style="color: #666666">,</span> withReplacement<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Boolean</span><span style="color: #666666">)</span><span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">RDD</span><span style="color: #666666">[</span><span style="color: #B00040">T</span><span style="color: #666666">]</span> <span style="color: #008000; font-weight: bold">=</span> <span style="color: #666666">{</span> <span style="color: #666666">...</span> <span style="color: #666666">}</span>
<span style="color: #008000; font-weight: bold">def</span> sample<span style="color: #666666">(</span>ratio<span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">Double</span><span style="color: #666666">)</span><span style="color: #008000; font-weight: bold">:</span> <span style="color: #B00040">RDD</span><span style="color: #666666">[</span><span style="color: #B00040">T</span><span style="color: #666666">]</span> <span style="color: #008000; font-weight: bold">=</span> sample<span style="color: #666666">(</span>ratio<span style="color: #666666">,</span> withReplacement <span style="color: #008000; font-weight: bold">=</span> <span style="color: #008000; font-weight: bold">false</span><span style="color: #666666">)</span></code></pre>
</div>
</div>
</div>
</div>
</div>

            </div>
        </div>
        <footer class="text-spacing-lg">
    <div class="bright clearfix container-fluid">
        <span class="copyright-links text-spacing-md">
        Doc site built with <a class="menu-link" href="https://asciidoctor.org/">Asciidoctor</a> and <a class="menu-link" href="https://jekyllrb.com/">Jekyll</a>
        </span>
       
        <a class="to-top-small-logo-container" href="#header-navbar">
            <span class="small-logo"></span>
            <span id="to-top"></span>
        </a>
    </div>
</footer>

        
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69301419-1', 'auto');
  ga('send', 'pageview');
</script>

        

        <script src="/rvi_sota_server/js/main.js"></script>
    </body>
</html>
